---
layout: post
title: 【小试牛刀】超星慕课-挂课网 视频挂课秒过 加密算法
categories: Runic
---
![bq1](/upload/20161009/01.jpg)
源起:
有人找我帮忙快速挂成绩。我就愉快的答应了。 ![bq2](/upload/20161009/02.jpg)
![zy3](/upload/20161009/03.jpg)
今天在家休息、人呢无聊了就技痒！然后登陆了网站参观了下。 ![bq4](/upload/20161009/04.jpg)
![zy5](/upload/20161009/05.jpg)
![zy6](/upload/20161009/06.jpg)
他这个挂课软件呢和之前电子科大的比要高级的多，因为加了多出防篡改的判断，URL 参数 md5 混淆 加密，分析js半天无果，发现加密算法都放到了视频播放的 flash 里*（可恶）。虽然加大了 解密的难度，可是这难不倒我！将 flash 存到本地 反编译。 ![bq7](/upload/20161009/07.jpg)
![zy8](/upload/20161009/08.jpg)
很快找到了整个算法的核心
`MD5.startMd("[" + param4.clazzId + "]" + "[" + param4.userid + "]" + "[" + param4.jobid + "]" + "[" + param4.objectId + "]" + "[" + param2 * 1000 + "]" + "[d_yHJ!$pdA~5]" + "[" + int(param4.duration) * 1000 + "]" + "[" + param4.clipTime + "]");`
这就尴尬了。 ![bq9](/upload/20161009/09.jpg)
套入算法计算测试。 ![bq10](/upload/20161009/10.jpg) 居然成了。
![zy11](/upload/20161009/11.jpg)
最后的加密代码吻合。二话不说开始写 简化工具方便快速挂课。
![bq12](/upload/20161009/12.jpg)
不一会 完工。当当当当`~  界面长这样。
![zy13](/upload/20161009/13.jpg)
代码也不是很多：
![zy14](/upload/20161009/14.jpg)
最后测试挂课果然很顺利、原本需要等半个小时的视频现在 1秒钟完事。
![zy15](/upload/20161009/15.jpg)
![zy16](/upload/20161009/16.jpg)
最后。。。交货（干活）！
![zy17](/upload/20161009/17.jpg)
![zy18](/upload/20161009/18.jpg)
自恋完毕
End！ 